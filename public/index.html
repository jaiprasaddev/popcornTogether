<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PopCornTogether</title>
    <link rel="stylesheet" href="/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
    />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  </head>

  <body>
    <header>
      <a class="lg" href="/index.html">
        <span class="pop">PopCorn</span><span class="together">Together</span>
      </a>

      <!-- Mobile Menu Toggle -->
      <div class="mobile-menu-toggle" onclick="toggleMenu()">
        <span></span>
        <span></span>
        <span></span>
      </div>

      <nav id="nav">
        <ul class="nav_links">
          <li><a href="/index.html" class="active">Home</a></li>
          <li><a href="/movies.html">Movies</a></li>
          <li><a href="/room.html">Upload and Watch</a></li>
          <li><a href="/youtube.html">Watch Youtube</a></li>
          <li><a href="/services.html">Services</a></li>
        </ul>
      </nav>

      <!-- ðŸ”¥ AUTH AREA (UPDATED ONLY THIS) -->
      <div class="auth-area">
        <div id="userBox" style="display:none; align-items:center; gap:10px;">
          <span id="username"></span>
          <button id="logoutBtn">Logout</button>
        </div>

        <a class="cta" id="loginBtnNav" href="/Login.html">
          <button>Login</button>
        </a>
      </div>
    </header>

    <script>
      function toggleMenu() {
        const nav = document.getElementById("nav");
        nav.classList.toggle("active");
      }
    </script>

    <!-- ================= HERO ================= -->
    <section class="hero">
      <div class="hero-Video">
        <video autoplay loop muted playsinline src="/Asset/videos/landing.mp4">
          Your browser does not support the video tag.
        </video>
      </div>

      <div class="hero-Text">
        <h1>Watch Movies <span>Together</span></h1>
        <br />
        <p>
          Stream movies and videos with your friends in real-time, <br />
          no matter where you are.
        </p>
        <br />
        <p>
          <span class="pop">PopCorn</span
          ><span class="together">Together</span> synchronizes video playback
          and adds group chat
        </p>
        <br />
        <a href="/Login.html" class="btn-primary">Get Started</a>
      </div>
    </section>

    <!-- ================= FEATURES ================= -->
    <section class="feature">
      <h1>Features</h1>

      <div class="feature-container">
        <div class="feature-card">
          <div class="feature-card-inner">
            <div class="feature-card-front">
              <i class="fa-solid fa-circle-play"></i>
              <h2>Sync Playback</h2>
            </div>
            <div class="feature-card-back">
              <p>
                No more countdowns or delays. Every pause, play, or skip happens
                at the exact same time for everyone in the room
              </p>
            </div>
          </div>
        </div>

        <div class="feature-card">
          <div class="feature-card-inner">
            <div class="feature-card-front">
              <i class="fa-solid fa-user-group"></i>
              <h2>Watch with Friends</h2>
            </div>
            <div class="feature-card-back">
              <p>
                Whether your friends are next door or across the globe, enjoy a
                virtual movie night that feels just like sitting together
              </p>
            </div>
          </div>
        </div>

        <div class="feature-card">
          <div class="feature-card-inner">
            <div class="feature-card-front">
              <i class="fa-solid fa-square-plus"></i>
              <h2>Upload and Watch</h2>
            </div>
            <div class="feature-card-back">
              <p>
                Upload personal videos or local files and stream them with
                friends. Everyone sees exactly what you share, instantly
              </p>
            </div>
          </div>
        </div>

        <div class="feature-card">
          <div class="feature-card-inner">
            <div class="feature-card-front">
              <i class="fa-brands fa-youtube"></i>
              <h2>Play YouTube Together</h2>
            </div>
            <div class="feature-card-back">
              <p>
                From music videos to lectures, enjoy millions of YouTube videos
                together in real-time.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ================= HOW IT WORKS ================= -->
    <section class="how-it-works">
      <h1>How It Works</h1>
      <div class="steps-container">
        <div class="step-card">
          <i class="fa-solid fa-hand-pointer"></i>
          <h2>Create a Room</h2>
        </div>
        <div class="step-card">
          <i class="fa-solid fa-circle-play"></i>
          <h2>Upload Video or Paste YouTube Link</h2>
        </div>
        <div class="step-card">
          <i class="fa-solid fa-user-plus"></i>
          <h2>Invite Friends</h2>
        </div>
        <div class="step-card">
          <i class="fa-solid fa-tv"></i>
          <h2>Watch Together</h2>
        </div>
      </div>
    </section>

    <!-- ================= FOOTER ================= -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-left">
          <h2><span class="pop">PopCorn</span><span class="together">Together</span></h2>
          <p>Stream movies together, anywhere, anytime.</p>
        </div>
      </div>

      <div class="footer-bottom">
        <p>Â© 2025 PopCornTogether. All rights reserved.</p>
      </div>
    </footer>

    <!-- ================= FIREBASE ================= -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyBMz7pxtjBBwYajEfEhBhF7ADYOgEQX_Po",
        authDomain: "popcorntogether-fd170.firebaseapp.com",
        projectId: "popcorntogether-fd170",
        storageBucket: "popcorntogether-fd170.appspot.com",
        messagingSenderId: "450280562009",
        appId: "1:450280562009:web:9774f54f522f6a34378048"
      };

      if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
      }

      const loginBtn = document.getElementById("loginBtnNav");
      const userBox = document.getElementById("userBox");
      const usernameSpan = document.getElementById("username");
      const logoutBtn = document.getElementById("logoutBtn");

      firebase.auth().onAuthStateChanged((user) => {
        if (user) {
          loginBtn.style.display = "none";
          userBox.style.display = "flex";

          const name = user.email.split("@")[0];
          usernameSpan.innerText = "ðŸ‘¤ " + name;
        } else {
          loginBtn.style.display = "inline-block";
          userBox.style.display = "none";
        }
      });

      logoutBtn.addEventListener("click", () => {
        firebase.auth().signOut().then(() => {
          window.location.href = "/index.html";
        });
      });
    </script>
  </body>
</html>
